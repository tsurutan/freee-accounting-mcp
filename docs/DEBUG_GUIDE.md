# ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰

freeeä¼šè¨ˆ MCP Server ã®ãƒ‡ãƒãƒƒã‚°æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## MCP Inspector

MCP Inspector ã¯ã€Model Context Protocol ã‚µãƒ¼ãƒãƒ¼ã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ãŸã‚ã®å…¬å¼ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

MCP Inspector ã¯ npx ã‚’é€šã˜ã¦ç›´æ¥å®Ÿè¡Œã§ãã‚‹ãŸã‚ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ä¸è¦ã§ã™ã€‚

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

#### é–‹ç™ºç‰ˆï¼ˆTypeScriptï¼‰ã§ã®ãƒ‡ãƒãƒƒã‚°

```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰
npm run debug

# ã¾ãŸã¯ apps/freee-accounting ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰
cd apps/freee-accounting
npm run debug
```

#### ãƒ“ãƒ«ãƒ‰ç‰ˆï¼ˆJavaScriptï¼‰ã§ã®ãƒ‡ãƒãƒƒã‚°

```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰
npm run debug:build

# ã¾ãŸã¯ apps/freee-accounting ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰
cd apps/freee-accounting
npm run debug:build
```

#### ç›´æ¥å®Ÿè¡Œ

```bash
# é–‹ç™ºç‰ˆ
npx @modelcontextprotocol/inspector tsx apps/freee-accounting/src/index.ts

# ãƒ“ãƒ«ãƒ‰ç‰ˆ
npm run build
npx @modelcontextprotocol/inspector node apps/freee-accounting/dist/index.js
```

## Inspector ã®æ©Ÿèƒ½

### Server Connection Pane
- ã‚µãƒ¼ãƒãƒ¼ã¸ã®æ¥ç¶šã«ä½¿ç”¨ã™ã‚‹ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆã®é¸æŠ
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ç”¨ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã¨ç’°å¢ƒã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### Resources Tab
- åˆ©ç”¨å¯èƒ½ãªãƒªã‚½ãƒ¼ã‚¹ã®ä¸€è¦§è¡¨ç¤º
- ãƒªã‚½ãƒ¼ã‚¹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆMIME ã‚¿ã‚¤ãƒ—ã€èª¬æ˜ï¼‰ã®è¡¨ç¤º
- ãƒªã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ¤œæŸ»
- ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®ã‚µãƒãƒ¼ãƒˆ

### Prompts Tab
- åˆ©ç”¨å¯èƒ½ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¡¨ç¤º
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¼•æ•°ã¨èª¬æ˜ã®è¡¨ç¤º
- ã‚«ã‚¹ã‚¿ãƒ å¼•æ•°ã§ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚¹ãƒˆ
- ç”Ÿæˆã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

### Tools Tab
- åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã®ä¸€è¦§è¡¨ç¤º
- ãƒ„ãƒ¼ãƒ«ã‚¹ã‚­ãƒ¼ãƒã¨èª¬æ˜ã®è¡¨ç¤º
- ã‚«ã‚¹ã‚¿ãƒ å…¥åŠ›ã§ã®ãƒ„ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ
- ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œçµæœã®è¡¨ç¤º

### Notifications Pane
- ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰è¨˜éŒ²ã•ã‚ŒãŸã™ã¹ã¦ã®ãƒ­ã‚°ã®è¡¨ç¤º
- ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—ä¿¡ã—ãŸé€šçŸ¥ã®è¡¨ç¤º

## ãƒ‡ãƒãƒƒã‚°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. é–‹ç™ºé–‹å§‹

```bash
npm run debug
```

- ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºã•ã‚ŒãŸURLï¼ˆhttp://localhost:6274/?MCP_PROXY_AUTH_TOKEN=...ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹
- ã‚µãƒ¼ãƒãƒ¼ã¨ã®åŸºæœ¬æ¥ç¶šã‚’ç¢ºèª
- æ©Ÿèƒ½ãƒã‚´ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯
- åˆ©ç”¨å¯èƒ½ãªãƒªã‚½ãƒ¼ã‚¹ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ãƒ„ãƒ¼ãƒ«ã‚’ç¢ºèª

### 2. Inspector GUI ã§ã®è©³ç´°æ“ä½œ

#### Server Connection Paneï¼ˆã‚µãƒ¼ãƒãƒ¼æ¥ç¶šè¨­å®šï¼‰

**åŸºæœ¬è¨­å®š:**
- **Transport**: `stdio`ï¼ˆæ¨™æº–å…¥å‡ºåŠ›ï¼‰ã‚’é¸æŠ
- **Command**:
  - é–‹ç™ºç‰ˆ: `tsx`
  - ãƒ“ãƒ«ãƒ‰ç‰ˆ: `node`
- **Arguments**:
  - é–‹ç™ºç‰ˆ: `apps/freee-accounting/src/index.ts`
  - ãƒ“ãƒ«ãƒ‰ç‰ˆ: `apps/freee-accounting/dist/index.js`

**ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰:**
```
FREEE_CLIENT_ID=your_client_id
FREEE_CLIENT_SECRET=your_client_secret
DEBUG=true
LOG_LEVEL=debug
```

#### Resources ã‚¿ãƒ–ã§ã®ãƒ†ã‚¹ãƒˆ

**åˆ©ç”¨å¯èƒ½ãªãƒªã‚½ãƒ¼ã‚¹:**
- `companies://list` - äº‹æ¥­æ‰€ä¸€è¦§
- `companies://current` - ç¾åœ¨ã®äº‹æ¥­æ‰€
- `account-items://list` - å‹˜å®šç§‘ç›®ä¸€è¦§
- `partners://list` - å–å¼•å…ˆä¸€è¦§
- `sections://list` - éƒ¨é–€ä¸€è¦§
- `items://list` - å“ç›®ä¸€è¦§
- `tags://list` - ãƒ¡ãƒ¢ã‚¿ã‚°ä¸€è¦§
- `deals://list` - å–å¼•ãƒ‡ãƒ¼ã‚¿ä¸€è¦§
- `trial-balance://current` - è©¦ç®—è¡¨ãƒ‡ãƒ¼ã‚¿

**æ“ä½œæ–¹æ³•:**
1. ãƒªã‚½ãƒ¼ã‚¹ã‚’é¸æŠ
2. ã€ŒLoadã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å–å¾—ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª

#### Tools ã‚¿ãƒ–ã§ã®ãƒ†ã‚¹ãƒˆ

**èªè¨¼é–¢é€£ãƒ„ãƒ¼ãƒ«:**
- `generate-auth-url` - OAuthèªè¨¼URLç”Ÿæˆï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `exchange-auth-code` - èªè¨¼ã‚³ãƒ¼ãƒ‰äº¤æ›
  ```json
  {
    "code": "èªè¨¼ã‚³ãƒ¼ãƒ‰",
    "state": "çŠ¶æ…‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿"
  }
  ```
- `check-auth-status` - èªè¨¼çŠ¶æ…‹ç¢ºèªï¼ˆå¼•æ•°ä¸è¦ï¼‰

**æ¥ç¶šãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«:**
- `test-connection` - æ¥ç¶šãƒ†ã‚¹ãƒˆï¼ˆå¼•æ•°ä¸è¦ï¼‰

**CRUDæ“ä½œãƒ„ãƒ¼ãƒ«:**
- `create-deal` - å–å¼•ä½œæˆ
  ```json
  {
    "issue_date": "2024-01-15",
    "type": "income",
    "company_id": 123456,
    "details": [
      {
        "account_item_id": 1,
        "amount": 10000,
        "tax_code": 1
      }
    ]
  }
  ```
- `update-deal` - å–å¼•æ›´æ–°
  ```json
  {
    "id": 12345,
    "issue_date": "2024-01-16",
    "details": [
      {
        "account_item_id": 1,
        "amount": 15000,
        "tax_code": 1
      }
    ]
  }
  ```
- `create-partner` - å–å¼•å…ˆä½œæˆ
  ```json
  {
    "name": "æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«",
    "code": "SAMPLE001",
    "partner_doc_setting_attributes": {
      "sending_method": "email"
    }
  }
  ```
- `create-account-item` - å‹˜å®šç§‘ç›®ä½œæˆ
  ```json
  {
    "name": "æ–°è¦å‹˜å®šç§‘ç›®",
    "tax_code": 1,
    "account_category": "assets"
  }
  ```

**ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ãƒ„ãƒ¼ãƒ«:**
- `get-rate-limit-info` - ãƒ¬ãƒ¼ãƒˆåˆ¶é™æƒ…å ±ï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `get-logs` - ãƒ­ã‚°å–å¾—ï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `get-metrics` - ãƒ¡ãƒˆãƒªã‚¯ã‚¹å–å¾—ï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `get-health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ï¼ˆå¼•æ•°ä¸è¦ï¼‰

**ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ãƒ„ãƒ¼ãƒ«:**
- `get-cache-stats` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `clear-cache` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ï¼ˆå¼•æ•°ä¸è¦ï¼‰

#### Prompts ã‚¿ãƒ–ã§ã®ãƒ†ã‚¹ãƒˆ

**åˆ©ç”¨å¯èƒ½ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:**
- `setup-guide` - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `transaction-entry` - å–å¼•å…¥åŠ›æ”¯æ´ï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `monthly-closing` - æœˆæ¬¡æ±ºç®—ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆå¼•æ•°ä¸è¦ï¼‰
- `trial-balance-analysis` - è©¦ç®—è¡¨åˆ†æã‚¬ã‚¤ãƒ‰ï¼ˆå¼•æ•°ä¸è¦ï¼‰

**æ“ä½œæ–¹æ³•:**
1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é¸æŠ
2. å¿…è¦ã«å¿œã˜ã¦å¼•æ•°ã‚’å…¥åŠ›
3. ã€ŒGet Promptã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ç”Ÿæˆã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª

### 3. åå¾©ãƒ†ã‚¹ãƒˆ

1. ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´
2. ã‚µãƒ¼ãƒãƒ¼ã‚’å†ãƒ“ãƒ«ãƒ‰ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
3. Inspector ã‚’å†æ¥ç¶š
4. å½±éŸ¿ã‚’å—ã‘ã‚‹æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ
5. Notifications ãƒšã‚¤ãƒ³ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ãƒ­ã‚°ã‚’ç›£è¦–

### 4. ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ

- ç„¡åŠ¹ãªå…¥åŠ›å€¤ã§ã®ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œ
- ä¸è¶³ã—ã¦ã„ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¼•æ•°
- ä¸¦è¡Œæ“ä½œã®ãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç¢ºèª

## ç’°å¢ƒè¨­å®š

### ç’°å¢ƒå¤‰æ•°

ãƒ‡ãƒãƒƒã‚°æ™‚ã¯ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```env
# freee APIè¨­å®š
FREEE_CLIENT_ID=your_client_id
FREEE_CLIENT_SECRET=your_client_secret
FREEE_REDIRECT_URI=http://localhost:3000/callback
FREEE_API_BASE_URL=https://api.freee.co.jp

# ãƒ‡ãƒãƒƒã‚°è¨­å®š
DEBUG=true
LOG_LEVEL=debug
NODE_ENV=development
```

### ãƒ†ã‚¹ãƒˆç”¨èªè¨¼æƒ…å ±

é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ã«ã¯ freee ã®é–‹ç™ºè€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§å–å¾—ã—ãŸèªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### æ¥ç¶šã‚¨ãƒ©ãƒ¼

- ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ã‚µãƒ¼ãƒãƒ¼ãŒæ­£å¸¸ã«èµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒãƒ¼ãƒˆãŒä»–ã®ãƒ—ãƒ­ã‚»ã‚¹ã§ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‹ç¢ºèª

### èªè¨¼ã‚¨ãƒ©ãƒ¼

- freee API ã®èªè¨¼æƒ…å ±ãŒæœ‰åŠ¹ã‹ç¢ºèª
- ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ URI ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ã‚’ç¢ºèª

### ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼

- API å‘¼ã³å‡ºã—é »åº¦ã‚’èª¿æ•´
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™æƒ…å ±ã‚’ç¢ºèªï¼ˆ`get-rate-limit-info` ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ï¼‰
- å¿…è¦ã«å¿œã˜ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ

- ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã‚’èª¿æ•´ï¼ˆ`LOG_LEVEL=error` ãªã©ï¼‰
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆã‚’ç¢ºèªï¼ˆ`get-cache-stats` ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ï¼‰
- ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç›£è¦–ï¼ˆ`get-metrics` ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ï¼‰

## ãƒ­ã‚°ã¨ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«

- `error`: ã‚¨ãƒ©ãƒ¼ã®ã¿
- `warn`: è­¦å‘Šä»¥ä¸Š
- `info`: æƒ…å ±ä»¥ä¸Šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- `debug`: ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’å«ã‚€ã™ã¹ã¦

### ç›£è¦–ãƒ„ãƒ¼ãƒ«

- `get-health`: ã‚µãƒ¼ãƒãƒ¼ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- `get-metrics`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- `get-logs`: ãƒ­ã‚°ã®å–å¾—
- `get-cache-stats`: ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆ

## å®Ÿè·µçš„ãªãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

### ã‚·ãƒŠãƒªã‚ª1: OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼ã®å®Œå…¨ãƒ†ã‚¹ãƒˆ

1. **èªè¨¼URLç”Ÿæˆ**
   - Tools ã‚¿ãƒ– â†’ `generate-auth-url` â†’ Execute
   - ç”Ÿæˆã•ã‚ŒãŸURLã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã

2. **èªè¨¼ã‚³ãƒ¼ãƒ‰äº¤æ›**
   - freeeã§èªè¨¼å¾Œã€ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURLã‹ã‚‰èªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
   - Tools ã‚¿ãƒ– â†’ `exchange-auth-code` â†’ ä»¥ä¸‹ã‚’å…¥åŠ›:
   ```json
   {
     "code": "å–å¾—ã—ãŸèªè¨¼ã‚³ãƒ¼ãƒ‰",
     "state": "çŠ¶æ…‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿"
   }
   ```

3. **èªè¨¼çŠ¶æ…‹ç¢ºèª**
   - Tools ã‚¿ãƒ– â†’ `check-auth-status` â†’ Execute
   - èªè¨¼ãŒæˆåŠŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

### ã‚·ãƒŠãƒªã‚ª2: åŸºæœ¬ãƒ‡ãƒ¼ã‚¿å–å¾—ã¨CRUDæ“ä½œ

1. **åŸºæœ¬ãƒ‡ãƒ¼ã‚¿å–å¾—**
   - Resources ã‚¿ãƒ– â†’ `companies://list` â†’ Load
   - Resources ã‚¿ãƒ– â†’ `account-items://list` â†’ Load
   - Resources ã‚¿ãƒ– â†’ `partners://list` â†’ Load

2. **å–å¼•å…ˆä½œæˆ**
   - Tools ã‚¿ãƒ– â†’ `create-partner` â†’ ä»¥ä¸‹ã‚’å…¥åŠ›:
   ```json
   {
     "name": "ãƒ†ã‚¹ãƒˆå–å¼•å…ˆ",
     "code": "TEST001"
   }
   ```

3. **å–å¼•ä½œæˆ**
   - Tools ã‚¿ãƒ– â†’ `create-deal` â†’ ä»¥ä¸‹ã‚’å…¥åŠ›:
   ```json
   {
     "issue_date": "2024-01-15",
     "type": "income",
     "company_id": 123456,
     "details": [
       {
         "account_item_id": 1,
         "amount": 10000,
         "tax_code": 1
       }
     ]
   }
   ```

### ã‚·ãƒŠãƒªã‚ª3: ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

1. **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**
   - Tools ã‚¿ãƒ– â†’ `get-health` â†’ Execute

2. **ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèª**
   - Tools ã‚¿ãƒ– â†’ `get-metrics` â†’ Execute

3. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ç¢ºèª**
   - Tools ã‚¿ãƒ– â†’ `get-rate-limit-info` â†’ Execute

4. **ãƒ­ã‚°ç¢ºèª**
   - Tools ã‚¿ãƒ– â†’ `get-logs` â†’ Execute

5. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†**
   - Tools ã‚¿ãƒ– â†’ `get-cache-stats` â†’ Execute
   - Tools ã‚¿ãƒ– â†’ `clear-cache` â†’ Execute

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **æ®µéšçš„ãƒ†ã‚¹ãƒˆ**: åŸºæœ¬æ©Ÿèƒ½ã‹ã‚‰è¤‡é›‘ãªæ©Ÿèƒ½ã¸æ®µéšçš„ã«ãƒ†ã‚¹ãƒˆ
2. **ãƒ­ã‚°ç›£è¦–**: å¸¸ã«Notifications ãƒšã‚¤ãƒ³ã§ãƒ­ã‚°ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç›£è¦–
3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: æ§˜ã€…ãªã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã‚’ãƒ†ã‚¹ãƒˆ
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã¨ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡ã‚’ç›£è¦–
5. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: èªè¨¼æƒ…å ±ã®é©åˆ‡ãªç®¡ç†
6. **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: CRUDæ“ä½œå¾Œã®ãƒ‡ãƒ¼ã‚¿ç¢ºèª
7. **ä¸¦è¡Œå‡¦ç†**: è¤‡æ•°ã®æ“ä½œã‚’åŒæ™‚å®Ÿè¡Œã—ã¦ãƒ†ã‚¹ãƒˆ

## HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ‡ãƒãƒƒã‚°

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

axiosã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤ºã—ã¦ãƒ‡ãƒãƒƒã‚°ã§ãã¾ã™ã€‚

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§MCP Inspectorã‚’èµ·å‹•
DEBUG_AXIOS=true npm run debug

# ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ã‹ã‚‰å®Ÿè¡Œ
export DEBUG_AXIOS=true
npm run debug
```

### ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã®ç¨®é¡

#### 1. OAuthèªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```
ğŸ” [OAUTH REQUEST]
URL: /public_api/token
Method: POST
Headers: {
  "Content-Type": "application/x-www-form-urlencoded"
}
Data: grant_type=authorization_code&client_id=***&client_secret=***&code=***&redirect_uri=...
---

ğŸ” [OAUTH RESPONSE]
Status: 200 OK
URL: /public_api/token
Data: {
  "access_token": "***1234",
  "refresh_token": "***5678",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "read write",
  "company_id": "123456"
}
---
```

#### 2. freee APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```
ğŸ“¡ [FREEE API REQUEST]
URL: /api/1/companies
Method: GET
Headers: {
  "Content-Type": "application/json",
  "Authorization": "Bearer ***",
  "X-Api-Version": "2020-06-15"
}
---

ğŸ“¡ [FREEE API RESPONSE]
Status: 200 OK
URL: /api/1/companies
Data: {
  "companies": [
    {
      "id": 123456,
      "name": "ã‚µãƒ³ãƒ—ãƒ«ä¼šç¤¾",
      "role": "admin"
    }
  ]
}
---
```

#### 3. ã‚¨ãƒ©ãƒ¼æƒ…å ±
```
âŒ [FREEE API RESPONSE ERROR]
Status: 401 Unauthorized
URL: /api/1/companies
Error Data: {
  "status_code": 401,
  "errors": [
    {
      "type": "authentication_error",
      "message": "Invalid access token"
    }
  ]
}
Message: Request failed with status code 401
---
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½

ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã§ã¯æ©Ÿå¯†æƒ…å ±ãŒè‡ªå‹•çš„ã«ãƒã‚¹ã‚¯ã•ã‚Œã¾ã™ï¼š

- **ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³**: `Bearer ***` ã¨ã—ã¦è¡¨ç¤º
- **ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³**: æœ«å°¾4æ–‡å­—ã®ã¿è¡¨ç¤ºï¼ˆ`***1234`ï¼‰
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ**: `***` ã¨ã—ã¦è¡¨ç¤º
- **èªè¨¼ã‚³ãƒ¼ãƒ‰**: `***` ã¨ã—ã¦è¡¨ç¤º

### å¤§ããªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‡¦ç†

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ãŒ2000æ–‡å­—ã‚’è¶…ãˆã‚‹å ´åˆã€è‡ªå‹•çš„ã«åˆ‡ã‚Šè©°ã‚ã‚‰ã‚Œã¾ã™ï¼š

```json
{
  "deals": [
    { "id": 1, "amount": 1000 },
    { "id": 2, "amount": 2000 },
    { "id": 3, "amount": 3000 },
    "...truncated (150 total items)"
  ]
}
```

### ãƒ‡ãƒãƒƒã‚°ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **æœ¬ç•ªç’°å¢ƒã§ã¯ç„¡åŠ¹åŒ–**: `DEBUG_AXIOS=true` ã¯é–‹ç™ºæ™‚ã®ã¿ä½¿ç”¨
2. **æ©Ÿå¯†æƒ…å ±ã®ç¢ºèª**: ãƒ­ã‚°ã«æ©Ÿå¯†æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ãªã„ã‹ç¢ºèª
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: å¤§é‡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚ã‚‹å ´åˆã¯ãƒ‡ãƒãƒƒã‚°ã‚’ç„¡åŠ¹åŒ–
4. **ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«**: å¿…è¦ã«å¿œã˜ã¦ãƒ­ã‚°ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

```bash
# ãƒ­ã‚°ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
DEBUG_AXIOS=true npm run debug 2>&1 | tee debug.log
```

## å‚è€ƒãƒªãƒ³ã‚¯

- [MCP Inspector å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://modelcontextprotocol.io/docs/tools/inspector)
- [MCP Inspector GitHub ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/modelcontextprotocol/inspector)
- [MCP ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰](https://modelcontextprotocol.io/docs/tools/debugging)
